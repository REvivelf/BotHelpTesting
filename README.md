# Тестовое задание.

## Задача:
Есть веб-api, непрерывно принимающее события (ограничимся 10000 событий)
для группы аккаунтов (1000 аккаунтов) и складывающее их в очередь.<br/>
Каждое событие связано с определенным аккаунтом и важно, чтобы события аккаунта обрабатывались в том же порядке,
в котором поступили в очередь. Обработка события занимает 1 секунду (эмулировать с помощью sleep).  
Сделать обработку очереди событий максимально быстрой на данной конкретной машине.
Код писать на PHP. Можно использовать фреймворки и инструменты такие как RabbitMQ, Redis, MySQL и т. д.

## Решение:
При получении сообщения проверяется наличие очереди под конкретный аккаунт.<br/>
Если такой очереди нет, она создаётся. А так же отправляется сообщение в очередь мониторинга,
откуда observer получает информацию, что нужно запустить новый воркер для для новой очереди.<br/>
Если в очередь ни чего не пишется в течении n сек - очередь удаляется.<br/>
Это обеспечивает высокую скорость обработки сообщений, а так же сохранение порядка сообщений.

## Запуск:
docker-compose up -d<br/>
docker-compose exec php bash<br/>
composer install<br/>
php bin/console app:send-events - Запуск скрипта, имитируещего отправку сообщений к API


#### Примечание:
Если просто заупустить решение, то кол-во очередей будет держаться на уровне 40-50 штук,<br/>
обработка 10 000 сообщений будет длиться ~ 1 час. Лучше всего это решение покажет себя,<br/>
если источников данных буде больше одного :)
